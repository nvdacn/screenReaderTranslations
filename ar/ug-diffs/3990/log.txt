------------------------------------------------------------
revno: 3990
committer: Michael Curran <mick@kulgan.net>
branch nick: main
timestamp: Fri 2010-12-17 11:58:44 +1000
message:
  Add script_toggleCurAppSelfVoicing to global commands bound as NVDA+shift+s. This allows the user to toggle self voicing mode for the active application. Also report when a self voicing application becomes active in both speech and braille. Specific changes:
  *scriptHandler.findScript: remove check for self voicing. I'm confused as to what this did anyway as self voicing would have been checked in inputCore before this point anyway. Plus due to following changes findScript must still work with selfVoicing.
  *inputCore.InputManager.executeGesture: fetch the gesture's script before any self voicing check. As well as an appModule having the selfVoicing property as true, a script also either must not have a 'allowInSelfVoicing' property, or this property must be set to False, for the gesture action not to take place. In otherwords, this means that if a script has an allowInSelfVoicing property set to true, then the script can still be executed while in a self voicing app.
  *Add a script_toggleCurrentAppSelfVoicing (NVDA+shift+s) to global commands. This script goggles the state of the selfVoicing property on the focus object's appModule. It also reports the new state in speech and braille. This script also has the allowInSelfVoicing property set to true, so that this script can be executed again to disable self voicing.
