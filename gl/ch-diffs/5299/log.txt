------------------------------------------------------------
revno: 5299
committer: Michael Curran <mick@kulgan.net>
branch nick: main
timestamp: Fri 2012-08-03 11:49:04 +1000
message:
  Make sure that the caret never falls off the end of a browse mode document, as this would cause subsiquent navigation commands to jump you to the top. (#2463). Now pressing right arrow on the final character keeps you on that character, and jumping to the end of a container whos end is the end of the document now lands you on the final line.
  Specific changes:
  	* Improve on bug fix for #2096 by only allowing OffsetsTextInfo.move for unit_character to move one past story length if a special class variable is set to true. This variable is true by default, but for virtualBufferTextInfo its false. 
  	* the script to move past the end of the current container in browse mode now checks to see if doing so places the caret 1 character past the end of the document. If it does, it backs up by one placing it on the final character. 
